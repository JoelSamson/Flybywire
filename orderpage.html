
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Order Page</title>
  <style>
    .table-hover tbody tr:hover {
      background-color: rgb(238, 214, 60);
    }

    tbody {
      background-color: #FFF;
      padding: 10px;

    }
    h1 {text-align: center;
    color: #0b0b0b;}

    p {font-size: 30px;
        text-align: center;
    color: #0b0b0b;}

    body {
      background-color: #fff !important;
    }

    table {
      border-collapse: collapse !important;
      width: 100% !important;
    }

    td,
    th {
      border: 2px solid #82b88c !important;
      padding: 10px !important;
      text-align: left !important;
    }

    thead {
      background-color: #9bbe91;
      padding: 10px;
    }

    .button5 {
      border: none;
      margin: 10px 10px;
      color: white;
      display: inline-block;
      background-color: green;
      font-size: 17px;
      text-align: center;
      border-radius: 8px;
    }

    .button4 {
      border: none;
      margin: 10px 10px;
      display: inline-block;
      color: white;
      background-color: red;
      font-size: 17px;
      text-align: center;
      border-radius: 8px;
    }

    form {
      width: 460px;
      margin: 0 auto;
      padding: 20px;
      background-color: #FFF;
      box-shadow: 0px 0px 10px #ccc;
      border: 2px solid #ADFF2F;
    }

    label {

      color: Black;
      width: 100px;
      display: inline-block;
    }

    input {
        
        
        
        font-size: 1rem;
        letter-spacing: .05rem;
 
        margin-top: 5px;
        color: rgb(22, 18, 18);
       
    }




    

  </style>


  <script type="text/javascript">
    function incrementValue() {
      var value = parseInt(document.getElementById('quantity').value, 10);
      value = isNaN(value) ? 0 : value;
      if (value < 100000) {
        value++;
        document.getElementById('quantity').value = value;
      }
      calculateTotal();
      calculateTotaltranprice();
    }
    function decrementValue() {
      var value = parseInt(document.getElementById('quantity').value, 10);
      value = isNaN(value) ? 0 : value;
      if (value > 0) {
        value--;
        document.getElementById('quantity').value = value;
      }
      calculateTotal();
      calculateTotaltranprice();
    }
    function openForm(ticker, cp) {
      document.getElementById("account").value = "123456";
      document.getElementById("ticker").value = String(ticker);
      document.getElementById("cp").value = cp;
      document.getElementById("tradeEntry").style.display = "block";
      calculateTotal();
      stocksowned();
      calculateTotaltranprice();
    }
    function closeForm() {
      document.getElementById("tradeEntry").style.display = "none";
    }
    function calculateTotal() {
      var qty = document.getElementById("quantity").value;
      var cp = document.getElementById("cp").value;
      var total = qty * cp;
      document.getElementById("total").value = total;
    }
    function stocksowned() {
      var tickerval = document.getElementById("ticker").value;
  
      if(tickerval=='2'){
      var x = document.getElementById("quantity");

        var currentVal =parseInt(x.value);
        document.getElementById("apst").value = currentVal;
        var defaultVal = currentVal;
        document.getElementById("stocks").value = currentVal;
        var qty =currentVal;
      var cp = document.getElementById("cp").value;
      var total = qty * cp;
      document.getElementById("inv").value = total;
      
      
    }
    if(tickerval=='1'){
      var x = document.getElementById("quantity");
    
      
      
        var currentVal = parseInt(x.value);
        document.getElementById("msst").value = currentVal;
        var defaultVal = currentVal;
        document.getElementById("stocks").value = currentVal;
        var qty =currentVal;
      var cp = document.getElementById("cp").value;
      var total = qty * cp;
      document.getElementById("inv").value = total;
      
    }
    if(tickerval=='3'){
      var x = document.getElementById("quantity");
      
        var currentVal = parseInt(x.value);
        document.getElementById("head").value = currentVal;
        var defaultVal = currentVal;
        document.getElementById("stocks").value = currentVal;
        var qty =currentVal;
      var cp = document.getElementById("cp").value;
      var total = qty * cp;
      document.getElementById("inv").value = total;
      
    }
    if(tickerval=='4'){
      var x = document.getElementById("quantity");
      
      
  
        var currentVal = parseInt(x.value);
        document.getElementById("watch").value = currentVal;
        var defaultVal = currentVal;
        document.getElementById("stocks").value = currentVal;
        var qty =currentVal;
      var cp = document.getElementById("cp").value;
      var total = qty * cp;
      document.getElementById("inv").value = total;
      
    }
    if(tickerval=='5'){
      var x = document.getElementById("quantity");
      
      
      
    
        var currentVal =parseInt(x.value);
        document.getElementById("tv").value = currentVal;
        var defaultVal = currentVal;
        document.getElementById("stocks").value = currentVal;
        var qty =currentVal;
      var cp = document.getElementById("cp").value;
      var total = qty * cp;
      document.getElementById("inv").value = total;
      
      
    }
    totaltranprice();
    }
    function parameters(){
  
    var laptopQuantity = document.getElementById("msst").value;
    var laptopPrice = 1000;

    var phoneQuantity = document.getElementById("apst").value;
    var phonePrice = 500;

    var headphonesQuantity = document.getElementById("head").value;
    var headphonesPrice = 100;

    var watchQuantity = document.getElementById("watch").value;
    var watchPrice = 300;

    var tvQuantity = document.getElementById("tv").value;
    var tvPrice = 2000;
    const data = totaltranprice(laptopQuantity,laptopPrice,phoneQuantity,phonePrice,headphonesQuantity,headphonesPrice,watchQuantity,watchPrice,tvQuantity,tvPrice);

    const total = data.total;
    const items = data.items;
    
    document.getElementById("tt").value = parseInt(total);
    document.getElementById("items").value = items;
    }

    function totaltranprice(laptopQuantity,laptopPrice,phoneQuantity,phonePrice,headphonesQuantity,headphonesPrice,watchQuantity, watchPrice,tvQuantity,tvPrice) {
    var total = 0;
    var items=0;
 
    total += laptopQuantity * laptopPrice;
    items += laptopQuantity*1;
 
    total += phoneQuantity * phonePrice;
    items += phoneQuantity*1;
 
    total += headphonesQuantity * headphonesPrice;
    items += headphonesQuantity*1;
 
    total += watchQuantity * watchPrice;
    items += watchQuantity*1;
 
    total += tvQuantity * tvPrice;
    items += tvQuantity*1;

    return {total: total, items: items}

  }

function trandone(){
    const requiredFields = document.querySelectorAll('input[required]');
    let allFieldsFilled = true;
    
    requiredFields.forEach((field) => {
      if (field.value.trim() === '') {
        allFieldsFilled = false;
      }
    });
    
    if (allFieldsFilled) {
      alert('Items Purchased Successfully!');
      closeForm(); 
    } else {
      alert('Please fill in all required fields!');
    }
         
        }
  </script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <div class="container">
    
    <table class="table table-bordered table-hover table-striped caption-top">
        
      <caption><h1>Order Page</h1></caption>
      
      <thead>
        <tr>
          <th>Product</th>
          <th>Product ID</th>
          <th>Quantity Owned </th>
          <th>Current Price</th>
          <th>Purchase</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Laptop</td>
          <td>
            1
          </td>
          <td><input type="number" id="msst" name="msst" value="0" disabled></td>
          <td>1000$</td>
          <td>
            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#myModal"
              onclick="openForm('1',1000)">
              Order
            </button>
          </td>
        </tr>
        <tr>
          <td>Phones</td>
          <td>
            2
          </td>
          <td><input type="number" id="apst" name="apst" value="0" disabled></td>
          <td>500$</td>
          <td>
            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#myModal"
              onclick="openForm('2',500)">
              Order
            </button>
          </td>
        </tr>
        <tr>
            <td>Head Phones</td>
            <td>
              3
            </td>
            <td><input type="number" id="head" name="head" value="0" disabled></td>
            <td>100$</td>
            <td>
              <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#myModal"
                onclick="openForm('3',100)">
                Order
              </button>
            </td>
          </tr>
          <tr>
            <td>Smart Watch</td>
            <td>
              4
            </td>
            <td><input type="number" id="watch" name="watch" value="0" disabled ></td>
            <td>300$</td>
            <td>
              <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#myModal"
                onclick="openForm('4',300)">
                Order
              </button>
            </td>
          </tr>
          <tr>
            <td>Smart TV</td>
            <td>
              5
            </td>
            <td><input type="number" id="tv" name="tv" value="0" disabled></td>
            <td>2000$</td>
            <td>
              <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#myModal"
                onclick="openForm('5',2000)">
                Order
              </button>
            </td>
          </tr>
      </tbody>
    </table>

    <label for="items">Total number of items:</label>
    <input type="number" id="items" name="items" disabled><br>

    <label for="tt">Total Price $:</label>
    <input type="number" id="tt" name="tt" disabled><br>
    <br></br>
   <!--<button type="button" class="btn btn-outline-success" id="submitBtn" value="submit"
    onclick="trandone()">Confirm Purchase</button>-->


    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#checkout">
    Confirm Purchase
  </button>


  </div>
  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">

          <form>
            <label for="account">Account #:</label>
            <input type="text" id="account" name="account"><br>
            <label for="ticker">Product ID:</label>
            <input type="text" id="ticker" name="ticker" disabled><br>
            <label for="ticker">Quantity:</label>
            <input type="text" id="stocks" name="stocks" disabled><br>
            
            <label for="cp">Current Price:</label>
            <input type="text" id="cp" name="cp" disabled><br>

            <label for="quantity">Add to Cart: </label>
            <div class="container">
              <input type="button" onclick="decrementValue()" class="button4" value="-" />
              <input type="number" name="quantity" value="0" maxlength="5" max="10000" size="10" id="quantity"
                placeholder="Enter The Quantity" min="0" onchange="calculateTotal()" />
              <input type="button" onclick="incrementValue()" class="button5" value="+" />
            </div>


            <label for="inv">Price of items:</label>
            <input type="number" id="inv" name="inv" disabled><br>

            
            <br></br>
            <button type="button" class="btn btn-outline-success" id="submitBtn" value="submit"
              onclick="stocksowned();parameters();">Submit</button>

            <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>

          </form>

        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="checkout">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">

            <form action="">
                <p> <i class="fas fa-shipping-fast"></i>
                    Shipping Details
                <p>
                <div class="name">
                    <div>
                        <label for="f-name">First Name :</label>
                        <input type="text" name="f-name" required>
                    </div>
                    <div>
                        <label for="l-name">Last Name :</label>
                        <input type="text" name="l-name" required>
                    </div>
                </div>
                <div class="street">
                    <label for="name">Street :</label>
                    <input type="text" name="address" required>
                </div>
                <div class="address-info">
                    <div>
                        <label for="city">City :</label>
                        <input type="text" name="city" required>
                    </div>
                    <div>
                        <label for="state">State :</label>
                        <input type="text" name="state" required>
                    </div>
                    <div>
                        <label for="zip">Zip :</label>
                        <input type="number" name="zip" required>
                    </div>
                </div>
                <br></br>
                <p>
                    <i class="far fa-credit-card"></i> Payment Information
                </p>
                
                <div class="cc-num">
                    <label for="card-num">Credit Card No. :</label>
                    <input type="number" name="card-num" required>
                </div>
                <div class="cc-info">
                    <div>
                        <label for="card-num">Exp :</label>
                        <input type="text" name="expire" required>
                    </div>
                    <div>
                        <label for="card-num">CCV :</label>
                        <input type="number" name="security" required>
                    </div>
                </div>
                <br></br>
                <div class="btns">
                    <input type="submit" class="btn btn-outline-success" id="submitBtn" value="Purchase" onclick="trandone()" >
                    <button type="button" class="btn btn-outline-danger"  data-bs-dismiss="modal">Close</button>
                </div>
            </form>

        </div>
    </div>
  </div>
</div>


</body>

</html>
